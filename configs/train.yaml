defaults:
  - _self_
  - data_train:
    - mimic_cxr
    - chexpert
  - data_valid:
    - mimic_cxr
    - chexpert
  - dataloader: dataloader_128
  - tokenizer: clinical_bert
  - transform: clahe
  - model: clip_swin_clinical
  - optimizer: adamw
  - scheduler: cosine_epoch15_warmup1
  - loss: cxr_clip

base:
  seed: 1234
  amp : True
  image_size: 224
  text_max_length: 256
  loss_best: contrastive
  data_frac: 1.0
  output:
    checkpoint: ${hydra:run.dir}/checkpoints/
    tensorboard: ${hydra:run.dir}/tensorboard/
  
training_params:
  batch_size: 360
  num_workers: 10
  batch_style: instance
  train_from_scratch: false
  epoch_based_patience: 25
  iteration_evaluate_frequency: 10
  text_cl_weight: 1.0
  ct_cl_weight: 1.0
  learning_rate: 5e-5
  weight_decay: 1e-4
  epochs: 250
  use_pretrained_xray_encoder: true

hydra:
  run:
    dir: ./outputs/${now:%Y-%m-%d}/${now:%H-%M-%S}
